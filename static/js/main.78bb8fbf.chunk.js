(this.webpackJsonpmaze=this.webpackJsonpmaze||[]).push([[0],{1099:function(e,t){},1285:function(e,t){},1313:function(e,t){},1317:function(e,t){},1340:function(e,t){},1361:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n(10),s=n(476),a=n.n(s),r=(n(163),n(6)),o=n.n(r),u=n(94),d=n(20),l=n(161),b=n.n(l);var f=function(e){var t=Object(i.useState)(""),n=Object(d.a)(t,2),s=n[0],a=n[1],r=Object(i.useState)({image:"void.gif",description:"",name:""}),l=Object(d.a)(r,2),b=l[0],f=l[1],j=Object(i.useState)(0),m=Object(d.a)(j,2),g=m[0],O=m[1];Object(i.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.args.balanceOf(e.id);case 2:return n=t.sent,t.abrupt("return",n.toNumber());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(e){O(e)}))}),[e.instance,e.ready]),Object(i.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.args.getURI(e.id);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().then((function(t){0!==g&&(e.args.getItems(e.maskedKey),a(t))}))}),[g]),Object(i.useEffect)((function(){h()}),[s]);var h=function(){var e={};if(""===s)return"./loading.gif";fetch(s,{mode:"cors"}).then((function(e){return e.json()})).then((function(t){t.image,e.name=t.name,e.desc=t.description,e.image="https://gateway.ipfs.io/"+t.image.substring(7),f(e)}))};return Object(c.jsx)("div",{className:"one-card item",children:Object(c.jsx)("img",{width:"100%",src:b.image,alt:b.description})})},j=n(739);var m=function(e){var t=j.map((function(t){return Object(c.jsx)(f,{id:t.token_id,maskedKey:t.id,ready:e.ready,args:e.args,instance:e.instance},t.id)}));return Object(c.jsx)("div",{className:"cards",children:t})};var g=function(e){return e>0?"1px solid white":e<0?"1px solid rgba(200,200, 200, 0.6)":"1px solid transparent"},O=function(e){return 1==e?"#FF9400":-1==e?"rgba(200,200, 200, 0.6)":void 0},h=function(e){var t={border:g(e.visibility),backgroundColor:O(e.selected)};return Object(c.jsx)("div",{className:"square",style:t})};var p=function(e){return Object(c.jsx)("div",{className:"columns",children:e.columns})},v=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,-1,0],[0,0,0,-1,-1,-1,-1,0],[0,11,12,13,14,15,16,0],[0,0,0,-1,-1,-1,-1,0],[0,0,0,-1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];var x=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),s=n[0],a=n[1];return Object(i.useEffect)((function(){a(function(e){for(var t=[],n=[parseInt(e.position[0]),parseInt(e.position[1])],i=0;i<v.length;i++){for(var s=[],a=0;a<v[i].length;a++){var r,o,u=!1;u=n[0]===i&&n[1]===a?1:v[i][a]<0?-1:0,o=v[i][a],r=Object(c.jsx)(h,{selected:u,visibility:o},i+""+a),s.push(r)}t.push(Object(c.jsx)(p,{columns:s},i))}return t}(e))}),[e]),Object(c.jsx)("div",{className:"grid",children:s})};var w=function(e){return Object(c.jsx)("button",{id:e.id,onClick:e.data.fireFunction,className:"button-maze "+e.spec,style:{visibility:e.isHiden?"hidden":"visible"},children:e.data.message})},k="https://zenbit-util-contracts.s3.amazonaws.com/fondo",y=function(e){document.getElementById("body").style.backgroundImage="url(".concat(e,")")};var N=function(e){return Object(c.jsx)("div",{className:"button-container",children:e.children})};var E=function(e){var t=Object(i.useState)("31"),n=Object(d.a)(t,2),s=n[0],a=n[1],r=["34","35"];Object(i.useEffect)((function(){}),[e]);var o=function(t){if(e.allowed){var n=e,c=[parseInt(e.position[0]),parseInt(e.position[1])],i=c,s=c[0]+""+c[1];1==t.target.id?i[1]=i[1]+1:2==t.target.id&&i[1]>1?i[1]=i[1]-1:3==t.target.id&&i[0]>0?i[0]=i[0]-1:4==t.target.id&&(i[0]=i[0]+1),v[i[0]][i[1]]>0&&(s=i[0]+""+i[1]),["32","35"].includes(i[0]+""+i[1])&&e.changeAllowance(!1),console.log(e.items[4],s,r.includes(e.position)),n.changePosition(s),a(s)}};return Object(c.jsxs)("div",{className:"controls",children:[Object(c.jsxs)(N,{children:[Object(c.jsx)(w,{id:3,data:{fireFunction:o,message:"Move \u25b2"},spec:"up-down",isHiden:!e.items[2]}),Object(c.jsx)(w,{id:4,data:{fireFunction:o,message:"Move \u25bc"},spec:"up-down",isHiden:!e.items[3]})]}),Object(c.jsxs)(N,{children:[Object(c.jsx)(w,{id:2,data:{fireFunction:o,message:"Move \u25c4"},spec:"left-right",isHiden:!e.items[1]}),Object(c.jsx)(w,{id:1,data:{fireFunction:o,message:"Move \u25ba"},spec:"left-right",isHiden:!e.items[1]})]}),Object(c.jsxs)(N,{children:[Object(c.jsx)(w,{id:5,data:{fireFunction:function(){"35"==e.position&&(document.getElementById("ground").style.visibility="visible");y(k+"C.jpg")},message:"Light room"},spec:"up-down",isHiden:!(e.items[4]&&["34","35"].includes(s))}),Object(c.jsx)(w,{id:6,data:{move:o,message:""},spec:"left-right",isHiden:!0})]})]})};var I=function(e){var t=e.buttonVisibility?"button-submit-blocked":"button-submit";return Object(c.jsxs)("div",{className:"canvas-header",id:"button-mm",children:[Object(c.jsx)("img",{className:"logo",src:"aztec-logo.png"}),Object(c.jsx)("button",{type:"submit",disable:e.buttonVisibility.toString(),onClick:e.enableMetamask,className:t,children:"Connect Metamask"})]})};var S=function(e){var t=Object(i.useState)(0),n=Object(d.a)(t,2),s=n[0],a=n[1];return Object(c.jsxs)("div",{className:"snake-component",children:[Object(c.jsxs)("div",{className:"row-snakes",children:[Object(c.jsx)("img",{className:"mini snake",src:"0.png",id:"left-snake"}),Object(c.jsx)("div",{className:"mini"}),Object(c.jsx)("img",{className:"mini snake",src:"0a.png",id:"right-snake"})]}),Object(c.jsx)("div",{className:"big-snake",children:Object(c.jsx)("img",{className:"big snake",src:"0.png",id:"big-snake"})}),Object(c.jsx)("button",{className:"cc attack-button",onClick:function(){var t=s+1;console.log(t),a(t),1==t?document.getElementById("left-snake").style.transform="rotate(180deg)":2==t?document.getElementById("right-snake").style.transform="rotate(180deg)":3==t?document.getElementById("big-snake").style.transform="rotate(60deg)":4==t?document.getElementById("big-snake").style.transform="rotate(120deg)":5==t&&(e.changeAllowance(!0),document.getElementById("big-snake").style.transform="rotate(180deg)")},children:"attack!"})]})};var A=function(e){return Object(c.jsxs)("div",{className:"addressSearch",children:[Object(c.jsx)("div",{className:"address-search-message",children:Object(c.jsx)("p",{className:"message",children:"Search in Etherscan for the Rarible contract address on which Aztec NFTs are minted"})}),Object(c.jsx)("input",{type:"text",className:"search-bar",id:"input"}),Object(c.jsx)("button",{className:"cc check-answer",onClick:function(t){var n=document.getElementById("input").value;"0xd07dc4262BCDbf85190C01c996b4C06a461d2430"==n&&(console.log(n),e.changeAllowance(!0))},children:"check address"})]})};var B,C,z,F=function(e){return Object(i.useEffect)((function(){console.log(e.position)}),[e.position]),Object(c.jsx)("div",{className:"ground",id:"ground",style:{visibility:"35"==e.position?"hidden":"visible"},children:function(){var t;return 32==e.position?t=Object(c.jsx)(A,{changeAllowance:e.changeAllowance}):35==e.position&&(t=Object(c.jsx)(S,{changeAllowance:e.changeAllowance})),t}()})},M=n(740);var _=function(){var e=Object(i.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],a=Object(i.useState)(!0),r=Object(d.a)(a,2),l=r[0],f=r[1],j=Object(i.useState)(null),g=Object(d.a)(j,2),O=g[0],h=g[1],p=Object(i.useState)([]),v=Object(d.a)(p,2),w=v[0],N=v[1],S=Object(i.useState)("31"),A=Object(d.a)(S,2),_=A[0],H=A[1],P=Object(i.useState)(null),q=Object(d.a)(P,2),J=q[0],R=q[1],V=Object(i.useState)(!1),K=Object(d.a)(V,2),U=K[0],D=K[1],L=Object(i.useState)({}),T=Object(d.a)(L,2),Y=T[0],Z=T[1],G=Object(i.useState)([]),Q=Object(d.a)(G,2);Q[0],Q[1],Object(i.useEffect)((function(){$(),B.eth.getAccounts().then((function(e){N(e)})),X()}),[]),Object(i.useEffect)((function(){ee()}),[O]),Object(i.useEffect)((function(){0===w.length?s(!1):s(!0)}),[w]),Object(i.useEffect)((function(){}),[O,J]);var W=function(e){f(e)},X=function(){fetch("https://zenbit-util-contracts.s3.amazonaws.com/rarible.json",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){h(e)}))},$=function(){return window.ethereum?B=new b.a(window.ethereum):window.web3?B=new b.a(window.web3.currentProvider):alert("You have to install MetaMask !"),"undefined"!==typeof B},ee=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(z=M({abi:O.abi})).setProvider(B.currentProvider),e.next=4,z.at(O.address);case 4:C=e.sent,R(C);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:t=e.sent,N(t),D(!0),s(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"canvas",children:[Object(c.jsx)(I,{enableMetamask:te,buttonVisibility:n}),Object(c.jsxs)("div",{className:"playground",children:[Object(c.jsx)(E,{totalItems:Y.length,items:Y,position:_,allowed:l,changeAllowance:W,changePosition:function(e){H(e),function(e){var t="B.jpg";34!=e&&35!=e||(t="Z.jpg"),y(k+t)}(e)}}),Object(c.jsx)(F,{position:_,changeAllowance:W}),Object(c.jsx)(x,{position:_,items:Y})]}),Object(c.jsx)(m,{args:{getURI:function(e){return null==J||0===w.length?new Promise((function(e,t){e("")})):J.uri(e)},balanceOf:function(e){return J.balanceOf(w[0],e)},getItems:function(e){Y[e]=!0;var t=Object.assign({},Y);Z(t)}},ready:U,instance:J})]})};var H=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(_,{})})};a.a.render(Object(c.jsx)(H,{}),document.getElementById("root"))},163:function(e,t,n){},493:function(e,t){},500:function(e,t){},516:function(e,t){},518:function(e,t){},534:function(e,t){},535:function(e,t){},537:function(e,t){},538:function(e,t){},609:function(e,t){},611:function(e,t){},620:function(e,t){},622:function(e,t){},647:function(e,t){},649:function(e,t){},654:function(e,t){},656:function(e,t){},668:function(e,t){},671:function(e,t){},676:function(e,t){},685:function(e,t){},688:function(e,t){},739:function(e){e.exports=JSON.parse('[{"id":1,"token_id":77159},{"id":2,"token_id":84898},{"id":3,"token_id":84901},{"id":4,"token_id":85491},{"id":5,"token_id":85501},{"id":6,"token_id":85509},{"id":7,"token_id":91019}]')},799:function(e,t){},842:function(e,t){},851:function(e,t){}},[[1361,1,2]]]);
//# sourceMappingURL=main.78bb8fbf.chunk.js.map